# Plan: AI-Native Textbook on Physical AI & Humanoid Robotics

This document outlines the architectural and implementation plan for creating a comprehensive, AI-native textbook on "Physical AI & Humanoid Robotics."

## 1. Architecture Overview

The system is designed with a clear separation of concerns, ensuring modularity and scalability. It separates content authoring, frontend presentation, and backend intelligence into distinct, interoperable layers.

*High-Level Component Diagram Description:*

1.  **Book Content (`/docs`)**: The single source of truth for all educational material, written in standards-compliant Markdown.
2.  **Docusaurus Site (Frontend)**: A static site generated by Docusaurus, responsible for rendering the book content. It is styled using custom CSS variables for a modernized and consistent look and feel.
3.  **Backend Services (FastAPI)**: A robust backend built with Python and FastAPI, located in the `/app` directory, serving as the application's intelligent core. It exposes RESTful APIs for all dynamic features.
4.  **RAG Chatbot (AI Core)**: An integrated service that powers the conversational AI.
    *   **Vector DB**: **Qdrant Cloud (Free Tier)** stores and indexes embeddings of the book content.
    *   **LLM**: **Google Gemini (Free Tier)** models generate context-aware answers.
    *   **UI**: A React component embedded within the Docusaurus site.
    *   **Public Access**: The RAG chatbot is fully public with no authentication required.

---

## 2. Major Implementation Phases

The project followed a structured, phased approach.

| Phase | Name                     | Exit Criteria                                                                                                     |
|:------|:-------------------------|:------------------------------------------------------------------------------------------------------------------|
| 1     | **Constitution & Setup** | `constitution.md` and `spec.md` finalized. Docusaurus project initialized.                                        |
| 2     | **Core Book Writing**    | Core textbook chapters drafted in Markdown and structured in Docusaurus.                                          |
| 3     | **RAG Backend**          | FastAPI backend deployed. Qdrant populated with book embeddings. RAG pipeline successfully answers queries.         |
| 4     | **Frontend Integration** | RAG chatbot UI embedded in the Docusaurus site and fully functional.                                              |
| 5     | **UI Modernization**     | The Docusaurus site and Chatbot UI were improved with a modern, professional, and consistent design.               |
| 6     | **Finalization**         | All features validated. Project documentation updated to reflect the final state.                                 |

---

## 3. Key Architectural Decisions

Formal ADRs (Architecture Decision Records) were created for significant decisions. Key decisions included:

1.  **Frontend Framework:** Docusaurus was chosen for its excellent documentation features and MDX support.
2.  **Vector Database:** Qdrant Cloud was selected for its free tier and robust performance.
3.  **RAG Model:** Google Gemini's free tier was used for both embeddings and generation to ensure the project remains 100% free.
4.  **Authentication:** All authentication was **removed** to make the chatbot publicly and freely accessible, simplifying the architecture.
5.  **Translation:** The translation feature was **removed** as it relied on paid APIs, ensuring adherence to the "free-only" constraint.

---

## 4. Testing & Validation Strategy

A multi-layered testing strategy was employed to ensure quality.

| Area                      | Validation Method                                                                                                   |
|:--------------------------|:--------------------------------------------------------------------------------------------------------------------|
| **Book Completeness**     | Peer review of each chapter against the `spec.md`.                                                                  |
| **RAG Accuracy**          | A "golden dataset" of question-answer pairs was used to validate that the chatbot's answers are correct and derived only from the book. |
| **"Selected Text Only"**  | Unit and integration tests confirm that the RAG context is strictly limited to the user's text selection.            |
| **Public Access**         | Functional tests ensure the RAG chatbot works without any authentication.                                           |
| **Free API Usage**        | Code review and validation confirmed that only free Google Gemini API features are used.                             |
| **Mobile Responsiveness** | Manual testing on Chrome DevTools and real devices.                                                                 |

---

## 5. Final Status Summary

All project phases and deliverables have been successfully completed and validated. The project is feature-complete and ready for production deployment.

- ✅ **RAG Chatbot**: Fully functional, using the free Google Gemini API. Both full-book and "selected-text" modes are working as expected.
- ✅ **Public Access**: The chatbot is fully public. All authentication has been removed.
- ✅ **Modern UI**: The Docusaurus UI and Chatbot UI have been modernized to be clean, professional, responsive, and consistent.
- ✅ **No Translation**: All translation features have been removed to maintain 100% free operation.
- ✅ **Deployment Configuration**:
    - **Frontend**: The Docusaurus application is configured for deployment on Vercel.
    - **Backend**: The FastAPI application is configured for deployment on Render.
- ✅ **Documentation**: All specification and planning documents have been updated to reflect the final project status.